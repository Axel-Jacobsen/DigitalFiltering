ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.file	"ssd1306.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.section	.bss.SSD1306_Buffer,"aw",%nobits
  21              		.align	2
  24              	SSD1306_Buffer:
  25 0000 00000000 		.space	1024
  25      00000000 
  25      00000000 
  25      00000000 
  25      00000000 
  26              		.section	.bss.SSD1306,"aw",%nobits
  27              		.align	2
  30              	SSD1306:
  31 0000 00000000 		.space	6
  31      0000
  32              		.section	.text.ssd1306_WriteCommand,"ax",%progbits
  33              		.align	2
  34              		.thumb
  35              		.thumb_func
  37              	ssd1306_WriteCommand:
  38              	.LFB123:
  39              		.file 1 "Src/ssd1306.c"
   1:Src/ssd1306.c **** 
   2:Src/ssd1306.c **** #include"ssd1306.h"
   3:Src/ssd1306.c **** 
   4:Src/ssd1306.c **** 
   5:Src/ssd1306.c **** // Screenbuffer
   6:Src/ssd1306.c **** static uint8_t SSD1306_Buffer[SSD1306_WIDTH * SSD1306_HEIGHT / 8];
   7:Src/ssd1306.c **** 
   8:Src/ssd1306.c **** // Screen object
   9:Src/ssd1306.c **** static SSD1306_t SSD1306;
  10:Src/ssd1306.c **** 
  11:Src/ssd1306.c **** 
  12:Src/ssd1306.c **** //
  13:Src/ssd1306.c **** //  Send a byte to the command register
  14:Src/ssd1306.c **** //
  15:Src/ssd1306.c **** static void ssd1306_WriteCommand(uint8_t command)
  16:Src/ssd1306.c **** {
  40              		.loc 1 16 0
  41              		.cfi_startproc
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 2


  42              		@ args = 0, pretend = 0, frame = 8
  43              		@ frame_needed = 1, uses_anonymous_args = 0
  44 0000 80B5     		push	{r7, lr}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 8
  47              		.cfi_offset 7, -8
  48              		.cfi_offset 14, -4
  49 0002 86B0     		sub	sp, sp, #24
  50              	.LCFI1:
  51              		.cfi_def_cfa_offset 32
  52 0004 04AF     		add	r7, sp, #16
  53              	.LCFI2:
  54              		.cfi_def_cfa 7, 16
  55 0006 0346     		mov	r3, r0
  56 0008 FB71     		strb	r3, [r7, #7]
  17:Src/ssd1306.c **** 	HAL_I2C_Mem_Write(&hi2c1,SSD1306_I2C_ADDR,0x00,1,&command,1,10);
  57              		.loc 1 17 0
  58 000a FB1D     		adds	r3, r7, #7
  59 000c 0093     		str	r3, [sp]
  60 000e 0123     		movs	r3, #1
  61 0010 0193     		str	r3, [sp, #4]
  62 0012 0A23     		movs	r3, #10
  63 0014 0293     		str	r3, [sp, #8]
  64 0016 0448     		ldr	r0, .L2
  65 0018 7821     		movs	r1, #120
  66 001a 0022     		movs	r2, #0
  67 001c 0123     		movs	r3, #1
  68 001e FFF7FEFF 		bl	HAL_I2C_Mem_Write
  18:Src/ssd1306.c **** }
  69              		.loc 1 18 0
  70 0022 0837     		adds	r7, r7, #8
  71              	.LCFI3:
  72              		.cfi_def_cfa_offset 8
  73 0024 BD46     		mov	sp, r7
  74              	.LCFI4:
  75              		.cfi_def_cfa_register 13
  76              		@ sp needed
  77 0026 80BD     		pop	{r7, pc}
  78              	.L3:
  79              		.align	2
  80              	.L2:
  81 0028 00000000 		.word	hi2c1
  82              		.cfi_endproc
  83              	.LFE123:
  85              		.section	.text.ssd1306_Init,"ax",%progbits
  86              		.align	2
  87              		.global	ssd1306_Init
  88              		.thumb
  89              		.thumb_func
  91              	ssd1306_Init:
  92              	.LFB124:
  19:Src/ssd1306.c **** 
  20:Src/ssd1306.c **** 
  21:Src/ssd1306.c **** //
  22:Src/ssd1306.c **** //	Initialize the oled screen
  23:Src/ssd1306.c **** //
  24:Src/ssd1306.c **** uint8_t ssd1306_Init(void)
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 3


  25:Src/ssd1306.c **** {	
  93              		.loc 1 25 0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 1, uses_anonymous_args = 0
  97 0000 80B5     		push	{r7, lr}
  98              	.LCFI5:
  99              		.cfi_def_cfa_offset 8
 100              		.cfi_offset 7, -8
 101              		.cfi_offset 14, -4
 102 0002 00AF     		add	r7, sp, #0
 103              	.LCFI6:
 104              		.cfi_def_cfa_register 7
  26:Src/ssd1306.c **** 	// Wait for the screen to boot
  27:Src/ssd1306.c **** 	HAL_Delay(100);
 105              		.loc 1 27 0
 106 0004 6420     		movs	r0, #100
 107 0006 FFF7FEFF 		bl	HAL_Delay
  28:Src/ssd1306.c **** 	
  29:Src/ssd1306.c **** 	/* Init LCD */
  30:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xAE); //display off
 108              		.loc 1 30 0
 109 000a AE20     		movs	r0, #174
 110 000c FFF7FEFF 		bl	ssd1306_WriteCommand
  31:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x20); //Set Memory Addressing Mode   
 111              		.loc 1 31 0
 112 0010 2020     		movs	r0, #32
 113 0012 FFF7FEFF 		bl	ssd1306_WriteCommand
  32:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x10); //00,Horizontal Addressing Mode;01,Vertical Addressing Mode;10,Page Ad
 114              		.loc 1 32 0
 115 0016 1020     		movs	r0, #16
 116 0018 FFF7FEFF 		bl	ssd1306_WriteCommand
  33:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xB0); //Set Page Start Address for Page Addressing Mode,0-7
 117              		.loc 1 33 0
 118 001c B020     		movs	r0, #176
 119 001e FFF7FEFF 		bl	ssd1306_WriteCommand
  34:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xC8); //Set COM Output Scan Direction
 120              		.loc 1 34 0
 121 0022 C820     		movs	r0, #200
 122 0024 FFF7FEFF 		bl	ssd1306_WriteCommand
  35:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x00); //---set low column address
 123              		.loc 1 35 0
 124 0028 0020     		movs	r0, #0
 125 002a FFF7FEFF 		bl	ssd1306_WriteCommand
  36:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x10); //---set high column address
 126              		.loc 1 36 0
 127 002e 1020     		movs	r0, #16
 128 0030 FFF7FEFF 		bl	ssd1306_WriteCommand
  37:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x40); //--set start line address
 129              		.loc 1 37 0
 130 0034 4020     		movs	r0, #64
 131 0036 FFF7FEFF 		bl	ssd1306_WriteCommand
  38:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x81); //--set contrast control register
 132              		.loc 1 38 0
 133 003a 8120     		movs	r0, #129
 134 003c FFF7FEFF 		bl	ssd1306_WriteCommand
  39:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xFF);
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 4


 135              		.loc 1 39 0
 136 0040 FF20     		movs	r0, #255
 137 0042 FFF7FEFF 		bl	ssd1306_WriteCommand
  40:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xA1); //--set segment re-map 0 to 127
 138              		.loc 1 40 0
 139 0046 A120     		movs	r0, #161
 140 0048 FFF7FEFF 		bl	ssd1306_WriteCommand
  41:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xA6); //--set normal display
 141              		.loc 1 41 0
 142 004c A620     		movs	r0, #166
 143 004e FFF7FEFF 		bl	ssd1306_WriteCommand
  42:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xA8); //--set multiplex ratio(1 to 64)
 144              		.loc 1 42 0
 145 0052 A820     		movs	r0, #168
 146 0054 FFF7FEFF 		bl	ssd1306_WriteCommand
  43:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x3F); //
 147              		.loc 1 43 0
 148 0058 3F20     		movs	r0, #63
 149 005a FFF7FEFF 		bl	ssd1306_WriteCommand
  44:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xA4); //0xa4,Output follows RAM content;0xa5,Output ignores RAM content
 150              		.loc 1 44 0
 151 005e A420     		movs	r0, #164
 152 0060 FFF7FEFF 		bl	ssd1306_WriteCommand
  45:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xD3); //-set display offset
 153              		.loc 1 45 0
 154 0064 D320     		movs	r0, #211
 155 0066 FFF7FEFF 		bl	ssd1306_WriteCommand
  46:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x00); //-not offset
 156              		.loc 1 46 0
 157 006a 0020     		movs	r0, #0
 158 006c FFF7FEFF 		bl	ssd1306_WriteCommand
  47:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xD5); //--set display clock divide ratio/oscillator frequency
 159              		.loc 1 47 0
 160 0070 D520     		movs	r0, #213
 161 0072 FFF7FEFF 		bl	ssd1306_WriteCommand
  48:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xF0); //--set divide ratio
 162              		.loc 1 48 0
 163 0076 F020     		movs	r0, #240
 164 0078 FFF7FEFF 		bl	ssd1306_WriteCommand
  49:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xD9); //--set pre-charge period
 165              		.loc 1 49 0
 166 007c D920     		movs	r0, #217
 167 007e FFF7FEFF 		bl	ssd1306_WriteCommand
  50:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x22); //
 168              		.loc 1 50 0
 169 0082 2220     		movs	r0, #34
 170 0084 FFF7FEFF 		bl	ssd1306_WriteCommand
  51:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xDA); //--set com pins hardware configuration
 171              		.loc 1 51 0
 172 0088 DA20     		movs	r0, #218
 173 008a FFF7FEFF 		bl	ssd1306_WriteCommand
  52:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x12);
 174              		.loc 1 52 0
 175 008e 1220     		movs	r0, #18
 176 0090 FFF7FEFF 		bl	ssd1306_WriteCommand
  53:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xDB); //--set vcomh
 177              		.loc 1 53 0
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 5


 178 0094 DB20     		movs	r0, #219
 179 0096 FFF7FEFF 		bl	ssd1306_WriteCommand
  54:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x20); //0x20,0.77xVcc
 180              		.loc 1 54 0
 181 009a 2020     		movs	r0, #32
 182 009c FFF7FEFF 		bl	ssd1306_WriteCommand
  55:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x8D); //--set DC-DC enable
 183              		.loc 1 55 0
 184 00a0 8D20     		movs	r0, #141
 185 00a2 FFF7FEFF 		bl	ssd1306_WriteCommand
  56:Src/ssd1306.c **** 	ssd1306_WriteCommand(0x14); //
 186              		.loc 1 56 0
 187 00a6 1420     		movs	r0, #20
 188 00a8 FFF7FEFF 		bl	ssd1306_WriteCommand
  57:Src/ssd1306.c **** 	ssd1306_WriteCommand(0xAF); //--turn on SSD1306 panel
 189              		.loc 1 57 0
 190 00ac AF20     		movs	r0, #175
 191 00ae FFF7FEFF 		bl	ssd1306_WriteCommand
  58:Src/ssd1306.c **** 	
  59:Src/ssd1306.c **** 	// Clear screen
  60:Src/ssd1306.c **** 	ssd1306_Fill(Black);
 192              		.loc 1 60 0
 193 00b2 0020     		movs	r0, #0
 194 00b4 FFF7FEFF 		bl	ssd1306_Fill
  61:Src/ssd1306.c **** 	
  62:Src/ssd1306.c **** 	// Flush buffer to screen
  63:Src/ssd1306.c **** 	ssd1306_UpdateScreen();
 195              		.loc 1 63 0
 196 00b8 FFF7FEFF 		bl	ssd1306_UpdateScreen
  64:Src/ssd1306.c **** 	
  65:Src/ssd1306.c **** 	// Set default values for screen object
  66:Src/ssd1306.c **** 	SSD1306.CurrentX = 0;
 197              		.loc 1 66 0
 198 00bc 054B     		ldr	r3, .L6
 199 00be 0022     		movs	r2, #0
 200 00c0 1A80     		strh	r2, [r3]	@ movhi
  67:Src/ssd1306.c **** 	SSD1306.CurrentY = 0;
 201              		.loc 1 67 0
 202 00c2 044B     		ldr	r3, .L6
 203 00c4 0022     		movs	r2, #0
 204 00c6 5A80     		strh	r2, [r3, #2]	@ movhi
  68:Src/ssd1306.c **** 	
  69:Src/ssd1306.c **** 	SSD1306.Initialized = 1;
 205              		.loc 1 69 0
 206 00c8 024B     		ldr	r3, .L6
 207 00ca 0122     		movs	r2, #1
 208 00cc 5A71     		strb	r2, [r3, #5]
  70:Src/ssd1306.c **** 	
  71:Src/ssd1306.c **** 	return 1;
 209              		.loc 1 71 0
 210 00ce 0123     		movs	r3, #1
  72:Src/ssd1306.c **** }
 211              		.loc 1 72 0
 212 00d0 1846     		mov	r0, r3
 213 00d2 80BD     		pop	{r7, pc}
 214              	.L7:
 215              		.align	2
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 6


 216              	.L6:
 217 00d4 00000000 		.word	SSD1306
 218              		.cfi_endproc
 219              	.LFE124:
 221              		.section	.text.ssd1306_Fill,"ax",%progbits
 222              		.align	2
 223              		.global	ssd1306_Fill
 224              		.thumb
 225              		.thumb_func
 227              	ssd1306_Fill:
 228              	.LFB125:
  73:Src/ssd1306.c **** 
  74:Src/ssd1306.c **** //
  75:Src/ssd1306.c **** //  Fill the whole screen with the given color
  76:Src/ssd1306.c **** //
  77:Src/ssd1306.c **** void ssd1306_Fill(SSD1306_COLOR color) 
  78:Src/ssd1306.c **** {
 229              		.loc 1 78 0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 16
 232              		@ frame_needed = 1, uses_anonymous_args = 0
 233              		@ link register save eliminated.
 234 0000 80B4     		push	{r7}
 235              	.LCFI7:
 236              		.cfi_def_cfa_offset 4
 237              		.cfi_offset 7, -4
 238 0002 85B0     		sub	sp, sp, #20
 239              	.LCFI8:
 240              		.cfi_def_cfa_offset 24
 241 0004 00AF     		add	r7, sp, #0
 242              	.LCFI9:
 243              		.cfi_def_cfa_register 7
 244 0006 0346     		mov	r3, r0
 245 0008 FB71     		strb	r3, [r7, #7]
  79:Src/ssd1306.c **** 	/* Set memory */
  80:Src/ssd1306.c **** 	uint32_t i;
  81:Src/ssd1306.c **** 
  82:Src/ssd1306.c **** 	for(i = 0; i < sizeof(SSD1306_Buffer); i++)
 246              		.loc 1 82 0
 247 000a 0023     		movs	r3, #0
 248 000c FB60     		str	r3, [r7, #12]
 249 000e 0DE0     		b	.L9
 250              	.L12:
  83:Src/ssd1306.c **** 	{
  84:Src/ssd1306.c **** 		SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 251              		.loc 1 84 0
 252 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 253 0012 002B     		cmp	r3, #0
 254 0014 01D1     		bne	.L10
 255              		.loc 1 84 0 is_stmt 0 discriminator 1
 256 0016 0021     		movs	r1, #0
 257 0018 00E0     		b	.L11
 258              	.L10:
 259              		.loc 1 84 0 discriminator 2
 260 001a FF21     		movs	r1, #255
 261              	.L11:
 262              		.loc 1 84 0 discriminator 4
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 7


 263 001c 084A     		ldr	r2, .L13
 264 001e FB68     		ldr	r3, [r7, #12]
 265 0020 1344     		add	r3, r3, r2
 266 0022 0A46     		mov	r2, r1
 267 0024 1A70     		strb	r2, [r3]
  82:Src/ssd1306.c **** 	{
 268              		.loc 1 82 0 is_stmt 1 discriminator 4
 269 0026 FB68     		ldr	r3, [r7, #12]
 270 0028 0133     		adds	r3, r3, #1
 271 002a FB60     		str	r3, [r7, #12]
 272              	.L9:
  82:Src/ssd1306.c **** 	{
 273              		.loc 1 82 0 is_stmt 0 discriminator 2
 274 002c FB68     		ldr	r3, [r7, #12]
 275 002e B3F5806F 		cmp	r3, #1024
 276 0032 EDD3     		bcc	.L12
  85:Src/ssd1306.c **** 	}
  86:Src/ssd1306.c **** }
 277              		.loc 1 86 0 is_stmt 1
 278 0034 1437     		adds	r7, r7, #20
 279              	.LCFI10:
 280              		.cfi_def_cfa_offset 4
 281 0036 BD46     		mov	sp, r7
 282              	.LCFI11:
 283              		.cfi_def_cfa_register 13
 284              		@ sp needed
 285 0038 5DF8047B 		ldr	r7, [sp], #4
 286              	.LCFI12:
 287              		.cfi_restore 7
 288              		.cfi_def_cfa_offset 0
 289 003c 7047     		bx	lr
 290              	.L14:
 291 003e 00BF     		.align	2
 292              	.L13:
 293 0040 00000000 		.word	SSD1306_Buffer
 294              		.cfi_endproc
 295              	.LFE125:
 297              		.section	.text.ssd1306_UpdateScreen,"ax",%progbits
 298              		.align	2
 299              		.global	ssd1306_UpdateScreen
 300              		.thumb
 301              		.thumb_func
 303              	ssd1306_UpdateScreen:
 304              	.LFB126:
  87:Src/ssd1306.c **** 
  88:Src/ssd1306.c **** //
  89:Src/ssd1306.c **** //  Write the screenbuffer with changed to the screen
  90:Src/ssd1306.c **** //
  91:Src/ssd1306.c **** void ssd1306_UpdateScreen(void) 
  92:Src/ssd1306.c **** {
 305              		.loc 1 92 0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 8
 308              		@ frame_needed = 1, uses_anonymous_args = 0
 309 0000 80B5     		push	{r7, lr}
 310              	.LCFI13:
 311              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 8


 312              		.cfi_offset 7, -8
 313              		.cfi_offset 14, -4
 314 0002 86B0     		sub	sp, sp, #24
 315              	.LCFI14:
 316              		.cfi_def_cfa_offset 32
 317 0004 04AF     		add	r7, sp, #16
 318              	.LCFI15:
 319              		.cfi_def_cfa 7, 16
  93:Src/ssd1306.c **** 	uint8_t i;
  94:Src/ssd1306.c **** 	
  95:Src/ssd1306.c **** 	for (i = 0; i < 8; i++) {
 320              		.loc 1 95 0
 321 0006 0023     		movs	r3, #0
 322 0008 FB71     		strb	r3, [r7, #7]
 323 000a 1DE0     		b	.L16
 324              	.L17:
  96:Src/ssd1306.c **** 		ssd1306_WriteCommand(0xB0 + i);
 325              		.loc 1 96 0 discriminator 3
 326 000c FB79     		ldrb	r3, [r7, #7]
 327 000e 503B     		subs	r3, r3, #80
 328 0010 DBB2     		uxtb	r3, r3
 329 0012 1846     		mov	r0, r3
 330 0014 FFF7FEFF 		bl	ssd1306_WriteCommand
  97:Src/ssd1306.c **** 		ssd1306_WriteCommand(0x00);
 331              		.loc 1 97 0 discriminator 3
 332 0018 0020     		movs	r0, #0
 333 001a FFF7FEFF 		bl	ssd1306_WriteCommand
  98:Src/ssd1306.c **** 		ssd1306_WriteCommand(0x10);
 334              		.loc 1 98 0 discriminator 3
 335 001e 1020     		movs	r0, #16
 336 0020 FFF7FEFF 		bl	ssd1306_WriteCommand
  99:Src/ssd1306.c **** 
 100:Src/ssd1306.c **** 		HAL_I2C_Mem_Write(&hi2c1,SSD1306_I2C_ADDR,0x40,1,&SSD1306_Buffer[SSD1306_WIDTH * i],SSD1306_WIDTH
 337              		.loc 1 100 0 discriminator 3
 338 0024 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 339 0026 DB01     		lsls	r3, r3, #7
 340 0028 0A4A     		ldr	r2, .L18
 341 002a 1344     		add	r3, r3, r2
 342 002c 0093     		str	r3, [sp]
 343 002e 8023     		movs	r3, #128
 344 0030 0193     		str	r3, [sp, #4]
 345 0032 6423     		movs	r3, #100
 346 0034 0293     		str	r3, [sp, #8]
 347 0036 0848     		ldr	r0, .L18+4
 348 0038 7821     		movs	r1, #120
 349 003a 4022     		movs	r2, #64
 350 003c 0123     		movs	r3, #1
 351 003e FFF7FEFF 		bl	HAL_I2C_Mem_Write
  95:Src/ssd1306.c **** 		ssd1306_WriteCommand(0xB0 + i);
 352              		.loc 1 95 0 discriminator 3
 353 0042 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 354 0044 0133     		adds	r3, r3, #1
 355 0046 FB71     		strb	r3, [r7, #7]
 356              	.L16:
  95:Src/ssd1306.c **** 		ssd1306_WriteCommand(0xB0 + i);
 357              		.loc 1 95 0 is_stmt 0 discriminator 1
 358 0048 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 9


 359 004a 072B     		cmp	r3, #7
 360 004c DED9     		bls	.L17
 101:Src/ssd1306.c **** 	}
 102:Src/ssd1306.c **** }
 361              		.loc 1 102 0 is_stmt 1
 362 004e 0837     		adds	r7, r7, #8
 363              	.LCFI16:
 364              		.cfi_def_cfa_offset 8
 365 0050 BD46     		mov	sp, r7
 366              	.LCFI17:
 367              		.cfi_def_cfa_register 13
 368              		@ sp needed
 369 0052 80BD     		pop	{r7, pc}
 370              	.L19:
 371              		.align	2
 372              	.L18:
 373 0054 00000000 		.word	SSD1306_Buffer
 374 0058 00000000 		.word	hi2c1
 375              		.cfi_endproc
 376              	.LFE126:
 378              		.section	.text.ssd1306_DrawPixel,"ax",%progbits
 379              		.align	2
 380              		.global	ssd1306_DrawPixel
 381              		.thumb
 382              		.thumb_func
 384              	ssd1306_DrawPixel:
 385              	.LFB127:
 103:Src/ssd1306.c **** 
 104:Src/ssd1306.c **** //
 105:Src/ssd1306.c **** //	Draw one pixel in the screenbuffer
 106:Src/ssd1306.c **** //	X => X Coordinate
 107:Src/ssd1306.c **** //	Y => Y Coordinate
 108:Src/ssd1306.c **** //	color => Pixel color
 109:Src/ssd1306.c **** //
 110:Src/ssd1306.c **** void ssd1306_DrawPixel(uint8_t x, uint8_t y, SSD1306_COLOR color)
 111:Src/ssd1306.c **** {
 386              		.loc 1 111 0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 8
 389              		@ frame_needed = 1, uses_anonymous_args = 0
 390              		@ link register save eliminated.
 391 0000 80B4     		push	{r7}
 392              	.LCFI18:
 393              		.cfi_def_cfa_offset 4
 394              		.cfi_offset 7, -4
 395 0002 83B0     		sub	sp, sp, #12
 396              	.LCFI19:
 397              		.cfi_def_cfa_offset 16
 398 0004 00AF     		add	r7, sp, #0
 399              	.LCFI20:
 400              		.cfi_def_cfa_register 7
 401 0006 0346     		mov	r3, r0
 402 0008 FB71     		strb	r3, [r7, #7]
 403 000a 0B46     		mov	r3, r1
 404 000c BB71     		strb	r3, [r7, #6]
 405 000e 1346     		mov	r3, r2
 406 0010 7B71     		strb	r3, [r7, #5]
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 10


 112:Src/ssd1306.c **** 	if (x >= SSD1306_WIDTH || y >= SSD1306_HEIGHT) 
 407              		.loc 1 112 0
 408 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 409 0014 5BB2     		sxtb	r3, r3
 410 0016 002B     		cmp	r3, #0
 411 0018 02DB     		blt	.L21
 412              		.loc 1 112 0 is_stmt 0 discriminator 1
 413 001a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 414 001c 3F2B     		cmp	r3, #63
 415 001e 00D9     		bls	.L22
 416              	.L21:
 113:Src/ssd1306.c **** 	{
 114:Src/ssd1306.c **** 		// Don't write outside the buffer
 115:Src/ssd1306.c **** 		return;
 417              		.loc 1 115 0 is_stmt 1
 418 0020 46E0     		b	.L20
 419              	.L22:
 116:Src/ssd1306.c **** 	}
 117:Src/ssd1306.c **** 	
 118:Src/ssd1306.c **** 	// Check if pixel should be inverted
 119:Src/ssd1306.c **** 	if (SSD1306.Inverted) 
 420              		.loc 1 119 0
 421 0022 264B     		ldr	r3, .L26
 422 0024 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 423 0026 002B     		cmp	r3, #0
 424 0028 06D0     		beq	.L24
 120:Src/ssd1306.c **** 	{
 121:Src/ssd1306.c **** 		color = (SSD1306_COLOR)!color;
 425              		.loc 1 121 0
 426 002a 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 427 002c 002B     		cmp	r3, #0
 428 002e 0CBF     		ite	eq
 429 0030 0123     		moveq	r3, #1
 430 0032 0023     		movne	r3, #0
 431 0034 DBB2     		uxtb	r3, r3
 432 0036 7B71     		strb	r3, [r7, #5]
 433              	.L24:
 122:Src/ssd1306.c **** 	}
 123:Src/ssd1306.c **** 	
 124:Src/ssd1306.c **** 	// Draw in the right color
 125:Src/ssd1306.c **** 	if (color == White)
 434              		.loc 1 125 0
 435 0038 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 436 003a 012B     		cmp	r3, #1
 437 003c 1BD1     		bne	.L25
 126:Src/ssd1306.c **** 	{
 127:Src/ssd1306.c **** 		SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 438              		.loc 1 127 0
 439 003e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 440 0040 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 441 0042 DB08     		lsrs	r3, r3, #3
 442 0044 D8B2     		uxtb	r0, r3
 443 0046 0346     		mov	r3, r0
 444 0048 DB01     		lsls	r3, r3, #7
 445 004a 1344     		add	r3, r3, r2
 446 004c F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 447 004e 0246     		mov	r2, r0
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 11


 448 0050 D201     		lsls	r2, r2, #7
 449 0052 0A44     		add	r2, r2, r1
 450 0054 1A49     		ldr	r1, .L26+4
 451 0056 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 452 0058 D0B2     		uxtb	r0, r2
 453 005a BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 454 005c 02F00702 		and	r2, r2, #7
 455 0060 0121     		movs	r1, #1
 456 0062 01FA02F2 		lsl	r2, r1, r2
 457 0066 D2B2     		uxtb	r2, r2
 458 0068 0146     		mov	r1, r0
 459 006a 0A43     		orrs	r2, r2, r1
 460 006c D2B2     		uxtb	r2, r2
 461 006e D1B2     		uxtb	r1, r2
 462 0070 134A     		ldr	r2, .L26+4
 463 0072 D154     		strb	r1, [r2, r3]
 464 0074 1CE0     		b	.L20
 465              	.L25:
 128:Src/ssd1306.c **** 	} 
 129:Src/ssd1306.c **** 	else 
 130:Src/ssd1306.c **** 	{
 131:Src/ssd1306.c **** 		SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] &= ~(1 << (y % 8));
 466              		.loc 1 131 0
 467 0076 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 468 0078 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 469 007a DB08     		lsrs	r3, r3, #3
 470 007c D8B2     		uxtb	r0, r3
 471 007e 0346     		mov	r3, r0
 472 0080 DB01     		lsls	r3, r3, #7
 473 0082 1344     		add	r3, r3, r2
 474 0084 F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 475 0086 0246     		mov	r2, r0
 476 0088 D201     		lsls	r2, r2, #7
 477 008a 0A44     		add	r2, r2, r1
 478 008c 0C49     		ldr	r1, .L26+4
 479 008e 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 480 0090 D0B2     		uxtb	r0, r2
 481 0092 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 482 0094 02F00702 		and	r2, r2, #7
 483 0098 0121     		movs	r1, #1
 484 009a 01FA02F2 		lsl	r2, r1, r2
 485 009e D2B2     		uxtb	r2, r2
 486 00a0 D243     		mvns	r2, r2
 487 00a2 D2B2     		uxtb	r2, r2
 488 00a4 0146     		mov	r1, r0
 489 00a6 0A40     		ands	r2, r2, r1
 490 00a8 D2B2     		uxtb	r2, r2
 491 00aa D1B2     		uxtb	r1, r2
 492 00ac 044A     		ldr	r2, .L26+4
 493 00ae D154     		strb	r1, [r2, r3]
 494              	.L20:
 132:Src/ssd1306.c **** 	}
 133:Src/ssd1306.c **** }
 495              		.loc 1 133 0
 496 00b0 0C37     		adds	r7, r7, #12
 497              	.LCFI21:
 498              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 12


 499 00b2 BD46     		mov	sp, r7
 500              	.LCFI22:
 501              		.cfi_def_cfa_register 13
 502              		@ sp needed
 503 00b4 5DF8047B 		ldr	r7, [sp], #4
 504              	.LCFI23:
 505              		.cfi_restore 7
 506              		.cfi_def_cfa_offset 0
 507 00b8 7047     		bx	lr
 508              	.L27:
 509 00ba 00BF     		.align	2
 510              	.L26:
 511 00bc 00000000 		.word	SSD1306
 512 00c0 00000000 		.word	SSD1306_Buffer
 513              		.cfi_endproc
 514              	.LFE127:
 516              		.section	.text.ssd1306_WriteChar,"ax",%progbits
 517              		.align	2
 518              		.global	ssd1306_WriteChar
 519              		.thumb
 520              		.thumb_func
 522              	ssd1306_WriteChar:
 523              	.LFB128:
 134:Src/ssd1306.c **** 
 135:Src/ssd1306.c **** //
 136:Src/ssd1306.c **** //  Draw 1 char to the screen buffer
 137:Src/ssd1306.c **** //	ch 		=> char om weg te schrijven
 138:Src/ssd1306.c **** //	Font 	=> Font waarmee we gaan schrijven
 139:Src/ssd1306.c **** //	color 	=> Black or White
 140:Src/ssd1306.c **** //
 141:Src/ssd1306.c **** char ssd1306_WriteChar(char ch, FontDef Font, SSD1306_COLOR color)
 142:Src/ssd1306.c **** {
 524              		.loc 1 142 0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 32
 527              		@ frame_needed = 1, uses_anonymous_args = 0
 528 0000 90B5     		push	{r4, r7, lr}
 529              	.LCFI24:
 530              		.cfi_def_cfa_offset 12
 531              		.cfi_offset 4, -12
 532              		.cfi_offset 7, -8
 533              		.cfi_offset 14, -4
 534 0002 89B0     		sub	sp, sp, #36
 535              	.LCFI25:
 536              		.cfi_def_cfa_offset 48
 537 0004 00AF     		add	r7, sp, #0
 538              	.LCFI26:
 539              		.cfi_def_cfa_register 7
 540 0006 0446     		mov	r4, r0
 541 0008 381D     		adds	r0, r7, #4
 542 000a 80E80600 		stmia	r0, {r1, r2}
 543 000e 1A46     		mov	r2, r3
 544 0010 2346     		mov	r3, r4
 545 0012 FB73     		strb	r3, [r7, #15]
 546 0014 1346     		mov	r3, r2
 547 0016 BB73     		strb	r3, [r7, #14]
 143:Src/ssd1306.c **** 	uint32_t i, b, j;
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 13


 144:Src/ssd1306.c **** 	
 145:Src/ssd1306.c **** 	// Check remaining space on current line
 146:Src/ssd1306.c **** 	if (SSD1306_WIDTH <= (SSD1306.CurrentX + Font.FontWidth) ||
 548              		.loc 1 146 0
 549 0018 3A4B     		ldr	r3, .L38
 550 001a 1B88     		ldrh	r3, [r3]
 551 001c 1A46     		mov	r2, r3
 552 001e 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 553 0020 1344     		add	r3, r3, r2
 554 0022 7F2B     		cmp	r3, #127
 555 0024 06DC     		bgt	.L29
 147:Src/ssd1306.c **** 		SSD1306_HEIGHT <= (SSD1306.CurrentY + Font.FontHeight))
 556              		.loc 1 147 0 discriminator 1
 557 0026 374B     		ldr	r3, .L38
 558 0028 5B88     		ldrh	r3, [r3, #2]
 559 002a 1A46     		mov	r2, r3
 560 002c 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 561 002e 1344     		add	r3, r3, r2
 146:Src/ssd1306.c **** 		SSD1306_HEIGHT <= (SSD1306.CurrentY + Font.FontHeight))
 562              		.loc 1 146 0 discriminator 1
 563 0030 3F2B     		cmp	r3, #63
 564 0032 01DD     		ble	.L30
 565              	.L29:
 148:Src/ssd1306.c **** 	{
 149:Src/ssd1306.c **** 		// Not enough space on current line
 150:Src/ssd1306.c **** 		return 0;
 566              		.loc 1 150 0
 567 0034 0023     		movs	r3, #0
 568 0036 61E0     		b	.L31
 569              	.L30:
 151:Src/ssd1306.c **** 	}
 152:Src/ssd1306.c **** 	
 153:Src/ssd1306.c **** 	// Use the font to write
 154:Src/ssd1306.c **** 	for (i = 0; i < Font.FontHeight; i++)
 570              		.loc 1 154 0
 571 0038 0023     		movs	r3, #0
 572 003a FB61     		str	r3, [r7, #28]
 573 003c 50E0     		b	.L32
 574              	.L37:
 155:Src/ssd1306.c **** 	{
 156:Src/ssd1306.c **** 		b = Font.data[(ch - 32) * Font.FontHeight + i];
 575              		.loc 1 156 0
 576 003e BA68     		ldr	r2, [r7, #8]
 577 0040 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 578 0042 203B     		subs	r3, r3, #32
 579 0044 7979     		ldrb	r1, [r7, #5]	@ zero_extendqisi2
 580 0046 01FB03F3 		mul	r3, r1, r3
 581 004a 1946     		mov	r1, r3
 582 004c FB69     		ldr	r3, [r7, #28]
 583 004e 0B44     		add	r3, r3, r1
 584 0050 5B00     		lsls	r3, r3, #1
 585 0052 1344     		add	r3, r3, r2
 586 0054 1B88     		ldrh	r3, [r3]
 587 0056 7B61     		str	r3, [r7, #20]
 157:Src/ssd1306.c **** 		for (j = 0; j < Font.FontWidth; j++)
 588              		.loc 1 157 0
 589 0058 0023     		movs	r3, #0
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 14


 590 005a BB61     		str	r3, [r7, #24]
 591 005c 38E0     		b	.L33
 592              	.L36:
 158:Src/ssd1306.c **** 		{
 159:Src/ssd1306.c **** 			if ((b << j) & 0x8000) 
 593              		.loc 1 159 0
 594 005e BB69     		ldr	r3, [r7, #24]
 595 0060 7A69     		ldr	r2, [r7, #20]
 596 0062 02FA03F3 		lsl	r3, r2, r3
 597 0066 03F40043 		and	r3, r3, #32768
 598 006a 002B     		cmp	r3, #0
 599 006c 14D0     		beq	.L34
 160:Src/ssd1306.c **** 			{
 161:Src/ssd1306.c **** 				ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR) color);
 600              		.loc 1 161 0
 601 006e 254B     		ldr	r3, .L38
 602 0070 1B88     		ldrh	r3, [r3]
 603 0072 DAB2     		uxtb	r2, r3
 604 0074 BB69     		ldr	r3, [r7, #24]
 605 0076 DBB2     		uxtb	r3, r3
 606 0078 1344     		add	r3, r3, r2
 607 007a D9B2     		uxtb	r1, r3
 608 007c 214B     		ldr	r3, .L38
 609 007e 5B88     		ldrh	r3, [r3, #2]
 610 0080 DAB2     		uxtb	r2, r3
 611 0082 FB69     		ldr	r3, [r7, #28]
 612 0084 DBB2     		uxtb	r3, r3
 613 0086 1344     		add	r3, r3, r2
 614 0088 DAB2     		uxtb	r2, r3
 615 008a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 616 008c 0846     		mov	r0, r1
 617 008e 1146     		mov	r1, r2
 618 0090 1A46     		mov	r2, r3
 619 0092 FFF7FEFF 		bl	ssd1306_DrawPixel
 620 0096 18E0     		b	.L35
 621              	.L34:
 162:Src/ssd1306.c **** 			} 
 163:Src/ssd1306.c **** 			else 
 164:Src/ssd1306.c **** 			{
 165:Src/ssd1306.c **** 				ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR)!color);
 622              		.loc 1 165 0
 623 0098 1A4B     		ldr	r3, .L38
 624 009a 1B88     		ldrh	r3, [r3]
 625 009c DAB2     		uxtb	r2, r3
 626 009e BB69     		ldr	r3, [r7, #24]
 627 00a0 DBB2     		uxtb	r3, r3
 628 00a2 1344     		add	r3, r3, r2
 629 00a4 D9B2     		uxtb	r1, r3
 630 00a6 174B     		ldr	r3, .L38
 631 00a8 5B88     		ldrh	r3, [r3, #2]
 632 00aa DAB2     		uxtb	r2, r3
 633 00ac FB69     		ldr	r3, [r7, #28]
 634 00ae DBB2     		uxtb	r3, r3
 635 00b0 1344     		add	r3, r3, r2
 636 00b2 DAB2     		uxtb	r2, r3
 637 00b4 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 638 00b6 002B     		cmp	r3, #0
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 15


 639 00b8 0CBF     		ite	eq
 640 00ba 0123     		moveq	r3, #1
 641 00bc 0023     		movne	r3, #0
 642 00be DBB2     		uxtb	r3, r3
 643 00c0 0846     		mov	r0, r1
 644 00c2 1146     		mov	r1, r2
 645 00c4 1A46     		mov	r2, r3
 646 00c6 FFF7FEFF 		bl	ssd1306_DrawPixel
 647              	.L35:
 157:Src/ssd1306.c **** 		{
 648              		.loc 1 157 0 discriminator 2
 649 00ca BB69     		ldr	r3, [r7, #24]
 650 00cc 0133     		adds	r3, r3, #1
 651 00ce BB61     		str	r3, [r7, #24]
 652              	.L33:
 157:Src/ssd1306.c **** 		{
 653              		.loc 1 157 0 is_stmt 0 discriminator 1
 654 00d0 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 655 00d2 1A46     		mov	r2, r3
 656 00d4 BB69     		ldr	r3, [r7, #24]
 657 00d6 9A42     		cmp	r2, r3
 658 00d8 C1D8     		bhi	.L36
 154:Src/ssd1306.c **** 	{
 659              		.loc 1 154 0 is_stmt 1 discriminator 2
 660 00da FB69     		ldr	r3, [r7, #28]
 661 00dc 0133     		adds	r3, r3, #1
 662 00de FB61     		str	r3, [r7, #28]
 663              	.L32:
 154:Src/ssd1306.c **** 	{
 664              		.loc 1 154 0 is_stmt 0 discriminator 1
 665 00e0 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 666 00e2 1A46     		mov	r2, r3
 667 00e4 FB69     		ldr	r3, [r7, #28]
 668 00e6 9A42     		cmp	r2, r3
 669 00e8 A9D8     		bhi	.L37
 166:Src/ssd1306.c **** 			}
 167:Src/ssd1306.c **** 		}
 168:Src/ssd1306.c **** 	}
 169:Src/ssd1306.c **** 	
 170:Src/ssd1306.c **** 	// The current space is now taken
 171:Src/ssd1306.c **** 	SSD1306.CurrentX += Font.FontWidth;
 670              		.loc 1 171 0 is_stmt 1
 671 00ea 064B     		ldr	r3, .L38
 672 00ec 1A88     		ldrh	r2, [r3]
 673 00ee 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 674 00f0 9BB2     		uxth	r3, r3
 675 00f2 1344     		add	r3, r3, r2
 676 00f4 9AB2     		uxth	r2, r3
 677 00f6 034B     		ldr	r3, .L38
 678 00f8 1A80     		strh	r2, [r3]	@ movhi
 172:Src/ssd1306.c **** 	
 173:Src/ssd1306.c **** 	// Return written char for validation
 174:Src/ssd1306.c **** 	return ch;
 679              		.loc 1 174 0
 680 00fa FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 681              	.L31:
 175:Src/ssd1306.c **** }
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 16


 682              		.loc 1 175 0
 683 00fc 1846     		mov	r0, r3
 684 00fe 2437     		adds	r7, r7, #36
 685              	.LCFI27:
 686              		.cfi_def_cfa_offset 12
 687 0100 BD46     		mov	sp, r7
 688              	.LCFI28:
 689              		.cfi_def_cfa_register 13
 690              		@ sp needed
 691 0102 90BD     		pop	{r4, r7, pc}
 692              	.L39:
 693              		.align	2
 694              	.L38:
 695 0104 00000000 		.word	SSD1306
 696              		.cfi_endproc
 697              	.LFE128:
 699              		.section	.text.ssd1306_WriteString,"ax",%progbits
 700              		.align	2
 701              		.global	ssd1306_WriteString
 702              		.thumb
 703              		.thumb_func
 705              	ssd1306_WriteString:
 706              	.LFB129:
 176:Src/ssd1306.c **** 
 177:Src/ssd1306.c **** //
 178:Src/ssd1306.c **** //  Write full string to screenbuffer
 179:Src/ssd1306.c **** //
 180:Src/ssd1306.c **** char ssd1306_WriteString(char* str, FontDef Font, SSD1306_COLOR color)
 181:Src/ssd1306.c **** {
 707              		.loc 1 181 0
 708              		.cfi_startproc
 709              		@ args = 0, pretend = 0, frame = 16
 710              		@ frame_needed = 1, uses_anonymous_args = 0
 711 0000 90B5     		push	{r4, r7, lr}
 712              	.LCFI29:
 713              		.cfi_def_cfa_offset 12
 714              		.cfi_offset 4, -12
 715              		.cfi_offset 7, -8
 716              		.cfi_offset 14, -4
 717 0002 85B0     		sub	sp, sp, #20
 718              	.LCFI30:
 719              		.cfi_def_cfa_offset 32
 720 0004 00AF     		add	r7, sp, #0
 721              	.LCFI31:
 722              		.cfi_def_cfa_register 7
 723 0006 F860     		str	r0, [r7, #12]
 724 0008 381D     		adds	r0, r7, #4
 725 000a 80E80600 		stmia	r0, {r1, r2}
 726 000e FB70     		strb	r3, [r7, #3]
 182:Src/ssd1306.c **** 	// Write until null-byte
 183:Src/ssd1306.c **** 	while (*str) 
 727              		.loc 1 183 0
 728 0010 15E0     		b	.L41
 729              	.L44:
 184:Src/ssd1306.c **** 	{
 185:Src/ssd1306.c **** 		if (ssd1306_WriteChar(*str, Font, color) != *str)
 730              		.loc 1 185 0
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 17


 731 0012 FB68     		ldr	r3, [r7, #12]
 732 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 733 0016 FC78     		ldrb	r4, [r7, #3]	@ zero_extendqisi2
 734 0018 1846     		mov	r0, r3
 735 001a 3B1D     		adds	r3, r7, #4
 736 001c 93E80600 		ldmia	r3, {r1, r2}
 737 0020 2346     		mov	r3, r4
 738 0022 FFF7FEFF 		bl	ssd1306_WriteChar
 739 0026 0346     		mov	r3, r0
 740 0028 1A46     		mov	r2, r3
 741 002a FB68     		ldr	r3, [r7, #12]
 742 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 743 002e 9A42     		cmp	r2, r3
 744 0030 02D0     		beq	.L42
 186:Src/ssd1306.c **** 		{
 187:Src/ssd1306.c **** 			// Char could not be written
 188:Src/ssd1306.c **** 			return *str;
 745              		.loc 1 188 0
 746 0032 FB68     		ldr	r3, [r7, #12]
 747 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 748 0036 08E0     		b	.L43
 749              	.L42:
 189:Src/ssd1306.c **** 		}
 190:Src/ssd1306.c **** 		
 191:Src/ssd1306.c **** 		// Next char
 192:Src/ssd1306.c **** 		str++;
 750              		.loc 1 192 0
 751 0038 FB68     		ldr	r3, [r7, #12]
 752 003a 0133     		adds	r3, r3, #1
 753 003c FB60     		str	r3, [r7, #12]
 754              	.L41:
 183:Src/ssd1306.c **** 	{
 755              		.loc 1 183 0
 756 003e FB68     		ldr	r3, [r7, #12]
 757 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 758 0042 002B     		cmp	r3, #0
 759 0044 E5D1     		bne	.L44
 193:Src/ssd1306.c **** 	}
 194:Src/ssd1306.c **** 	
 195:Src/ssd1306.c **** 	// Everything ok
 196:Src/ssd1306.c **** 	return *str;
 760              		.loc 1 196 0
 761 0046 FB68     		ldr	r3, [r7, #12]
 762 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 763              	.L43:
 197:Src/ssd1306.c **** }
 764              		.loc 1 197 0
 765 004a 1846     		mov	r0, r3
 766 004c 1437     		adds	r7, r7, #20
 767              	.LCFI32:
 768              		.cfi_def_cfa_offset 12
 769 004e BD46     		mov	sp, r7
 770              	.LCFI33:
 771              		.cfi_def_cfa_register 13
 772              		@ sp needed
 773 0050 90BD     		pop	{r4, r7, pc}
 774              		.cfi_endproc
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 18


 775              	.LFE129:
 777 0052 00BF     		.section	.text.ssd1306_SetCursor,"ax",%progbits
 778              		.align	2
 779              		.global	ssd1306_SetCursor
 780              		.thumb
 781              		.thumb_func
 783              	ssd1306_SetCursor:
 784              	.LFB130:
 198:Src/ssd1306.c **** 
 199:Src/ssd1306.c **** //
 200:Src/ssd1306.c **** //	Position the cursor
 201:Src/ssd1306.c **** //
 202:Src/ssd1306.c **** void ssd1306_SetCursor(uint8_t x, uint8_t y) 
 203:Src/ssd1306.c **** {
 785              		.loc 1 203 0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 8
 788              		@ frame_needed = 1, uses_anonymous_args = 0
 789              		@ link register save eliminated.
 790 0000 80B4     		push	{r7}
 791              	.LCFI34:
 792              		.cfi_def_cfa_offset 4
 793              		.cfi_offset 7, -4
 794 0002 83B0     		sub	sp, sp, #12
 795              	.LCFI35:
 796              		.cfi_def_cfa_offset 16
 797 0004 00AF     		add	r7, sp, #0
 798              	.LCFI36:
 799              		.cfi_def_cfa_register 7
 800 0006 0346     		mov	r3, r0
 801 0008 0A46     		mov	r2, r1
 802 000a FB71     		strb	r3, [r7, #7]
 803 000c 1346     		mov	r3, r2
 804 000e BB71     		strb	r3, [r7, #6]
 204:Src/ssd1306.c **** 	SSD1306.CurrentX = x;
 805              		.loc 1 204 0
 806 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 807 0012 9AB2     		uxth	r2, r3
 808 0014 054B     		ldr	r3, .L46
 809 0016 1A80     		strh	r2, [r3]	@ movhi
 205:Src/ssd1306.c **** 	SSD1306.CurrentY = y;
 810              		.loc 1 205 0
 811 0018 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 812 001a 9AB2     		uxth	r2, r3
 813 001c 034B     		ldr	r3, .L46
 814 001e 5A80     		strh	r2, [r3, #2]	@ movhi
 206:Src/ssd1306.c **** }
 815              		.loc 1 206 0
 816 0020 0C37     		adds	r7, r7, #12
 817              	.LCFI37:
 818              		.cfi_def_cfa_offset 4
 819 0022 BD46     		mov	sp, r7
 820              	.LCFI38:
 821              		.cfi_def_cfa_register 13
 822              		@ sp needed
 823 0024 5DF8047B 		ldr	r7, [sp], #4
 824              	.LCFI39:
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 19


 825              		.cfi_restore 7
 826              		.cfi_def_cfa_offset 0
 827 0028 7047     		bx	lr
 828              	.L47:
 829 002a 00BF     		.align	2
 830              	.L46:
 831 002c 00000000 		.word	SSD1306
 832              		.cfi_endproc
 833              	.LFE130:
 835              		.text
 836              	.Letext0:
 837              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/20150921/arm-none-eabi/include/machine/_default_types
 838              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/20150921/arm-none-eabi/include/sys/_stdint.h"
 839              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 840              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 841              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 842              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 843              		.file 8 "Inc/fonts.h"
 844              		.file 9 "Inc/ssd1306.h"
 845              		.file 10 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  /var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ssd1306.c
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:21     .bss.SSD1306_Buffer:0000000000000000 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:24     .bss.SSD1306_Buffer:0000000000000000 SSD1306_Buffer
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:27     .bss.SSD1306:0000000000000000 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:30     .bss.SSD1306:0000000000000000 SSD1306
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:33     .text.ssd1306_WriteCommand:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:37     .text.ssd1306_WriteCommand:0000000000000000 ssd1306_WriteCommand
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:81     .text.ssd1306_WriteCommand:0000000000000028 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:86     .text.ssd1306_Init:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:91     .text.ssd1306_Init:0000000000000000 ssd1306_Init
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:227    .text.ssd1306_Fill:0000000000000000 ssd1306_Fill
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:303    .text.ssd1306_UpdateScreen:0000000000000000 ssd1306_UpdateScreen
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:217    .text.ssd1306_Init:00000000000000d4 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:222    .text.ssd1306_Fill:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:293    .text.ssd1306_Fill:0000000000000040 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:298    .text.ssd1306_UpdateScreen:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:373    .text.ssd1306_UpdateScreen:0000000000000054 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:379    .text.ssd1306_DrawPixel:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:384    .text.ssd1306_DrawPixel:0000000000000000 ssd1306_DrawPixel
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:511    .text.ssd1306_DrawPixel:00000000000000bc $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:517    .text.ssd1306_WriteChar:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:522    .text.ssd1306_WriteChar:0000000000000000 ssd1306_WriteChar
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:695    .text.ssd1306_WriteChar:0000000000000104 $d
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:700    .text.ssd1306_WriteString:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:705    .text.ssd1306_WriteString:0000000000000000 ssd1306_WriteString
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:778    .text.ssd1306_SetCursor:0000000000000000 $t
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:783    .text.ssd1306_SetCursor:0000000000000000 ssd1306_SetCursor
/var/folders/ck/4xtm3skj1ssb0w4rn7_4q_gw0000gn/T//ccO4Mc4B.s:831    .text.ssd1306_SetCursor:000000000000002c $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
hi2c1
HAL_Delay
